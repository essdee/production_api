{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-12-10 11:12:14.841880",
 "css": ".print-format td{\n    padding: 1px !important;\n}\n.print-format th{\n    padding: 1px !important;\n}\n.bordered-table {\n    width: 100%;\n    border: 1px solid #ccc;\n    border-collapse: collapse;\n}\n\n.bordered-table th,\n.bordered-table td {\n    border: 1px solid #ccc;\n    padding: 3px 3px;\n    text-align: center;\n}\n\n.bordered-table thead {\n    background-color: #f8f9fa;\n    font-weight: bold;\n}\n\n.dark-border{\n    border: 2px solid black;\n}",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Finishing Plan",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div>\\n    {% set ocr_data, total_detail, primary_values = get_fp_ocr_details(doc.name) %}\\n    <div style=\\\"display: flex; justify-content: space-between; font-size: 15px;\\\">\\n        <div>\\n            <strong>Lot Name: </strong>{{ doc.lot }}\\n        </div>\\n        <div>\\n            <strong>Item: </strong>{{ doc.item }}\\n        </div>\\n    </div>\\n    <div style=\\\"display: flex; justify-content: space-between; font-size: 15px;\\\">\\n        <div>\\n            <strong>Finishing Plan: </strong>{{ doc.name }}\\n        </div>\\n        <div>\\n            <strong>Work Order: </strong>{{ doc.work_order }}\\n        </div>\\n    </div>\\n    <div style=\\\"font-size: 15px;\\\">\\n        <strong>Pieces Per Box: </strong>{{ doc.pieces_per_box }}\\n    </div>\\n    {% if ocr_data and ocr_data|length > 0 %}\\n        {% for part_value in ocr_data.keys() %}\\n        <div style=\\\"width:100%;\\\">\\n            <div style=\\\"display:flex;width:100%;gap:5px;\\\">\\n                <div style=\\\"width:72%;\\\">\\n                    <table class=\\\"table table-sm table-sm-bordered bordered-table\\\">\\n                        <thead class=\\\"dark-border\\\">\\n                            <tr>\\n                                <th colspan=\\\"2\\\">{{ doc.item }} {% if part_value != \\\"Item\\\" %} {{ part_value }} {% endif %}</th>\\n                                {% for size in primary_values %}\\n                                    <th>{{ size }}</th>\\n                                {% endfor %}\\n                                <th>Total</th>\\n                            </tr>\\n                        </thead>\\n                        <tbody class=\\\"dark-border\\\">\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Cutting Qty ( A )</th>\\n                                {% for size in primary_values %}\\n                                    <td>{{ ocr_data[part_value].total[size].cutting_qty }}</td>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].cutting }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Sewing Received ( B )</th>\\n                                {% for size in primary_values %}\\n                                    <td>{{ ocr_data[part_value].total[size].sewing_received }}</td>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].sewing_received }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Difference ( A - B )</th>\\n                                {% for size in primary_values %}\\n                                    {% set diff = ocr_data[part_value].total[size].sewing_received -\\n                                                   ocr_data[part_value].total[size].cutting_qty %}\\n                                    <td style=\\\"{{ get_ocr_style(diff) }}\\\">{{ diff }}</td>\\n                                {% endfor %}\\n\\n                                {% set total_diff = ocr_data[part_value].sewing_received -\\n                                                    ocr_data[part_value].cutting %}\\n                                <th style=\\\"{{ get_ocr_style(total_diff) }}\\\">{{ total_diff }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Sewing Received ( C )</th>\\n                                {% for size in primary_values %}\\n                                    <td>{{ ocr_data[part_value].total[size].sewing_received }}</td>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].sewing_received }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Old Lot ( D1 )</th>\\n                                {% for size in primary_values %}\\n                                    <td>{{ ocr_data[part_value].total[size].old_lot }}</td>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].old_lot }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Ironing Excess ( D2 )</th>\\n                                {% for size in primary_values %}\\n                                    <td>{{ ocr_data[part_value].total[size].ironing_excess }}</td>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].ironing_excess }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Total Inward (D) (C + D1 + D2)</th>\\n                                {% for size in primary_values %}\\n                                    <td>{{ ocr_data[part_value].total[size].total_inward }}</td>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].total_inward }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Finishing Inward ( E )</th>\\n                                {% for size in primary_values %}\\n                                    <td>{{ ocr_data[part_value].total[size].dc_qty }}</td>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].dc_qty }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Difference ( E - D )</th>\\n                                {% for size in primary_values %}\\n                                    {% set diff2 = ocr_data[part_value].total[size].dc_qty -\\n                                                   ocr_data[part_value].total[size].total_inward %}\\n                                    <td style=\\\"{{ get_ocr_style(diff2) }}\\\">{{ diff2 | int }}</td>\\n                                {% endfor %}\\n\\n                                {% set total_diff2 = ocr_data[part_value].dc_qty -\\n                                                     ocr_data[part_value].total_inward %}\\n                                <th style=\\\"{{ get_ocr_style(total_diff2) }}\\\">{{ total_diff2 }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Packed Box</th>\\n                                {% for size in primary_values %}\\n                                    <td>{{ ocr_data[part_value].total[size].packed_box }}</td>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].packed_box }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Packed Box Qty ( F )</th>\\n                                {% for size in primary_values %}\\n                                    <td>{{ ocr_data[part_value].total[size].packed_box_qty }}</td>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].packed_box_qty }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Difference ( F - E )</th>\\n\\n                                {% for size in primary_values %}\\n                                    {% set diff3 = ocr_data[part_value].total[size].packed_box_qty -\\n                                                   ocr_data[part_value].total[size].dc_qty %}\\n                                    <td style=\\\"{{ get_ocr_style(diff3) }}\\\">{{ diff3 }}</td>\\n                                {% endfor %}\\n\\n                                {% set total_diff3 = ocr_data[part_value].packed_box_qty -\\n                                                     ocr_data[part_value].dc_qty %}\\n                                <th style=\\\"{{ get_ocr_style(total_diff3) }}\\\">{{ total_diff3 }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th rowspan=\\\"{{ ocr_data[part_value].data|length + 1 }}\\\"\\n                                    style=\\\"vertical-align: middle !important;\\\">\\n                                    <div>\\n                                        Rejection Pieces ( I )\\n                                    </div>    \\n                                </th>\\n                            </tr>\\n                            {% for colour, cdata in ocr_data[part_value].data.items() %}\\n                                <tr>\\n                                    <th>{{ colour.split(\\\"@\\\")[0] }}</th>\\n\\n                                    {% for size in primary_values %}\\n                                        <td>{{ cdata['values'][size]['rejected'] }}</td>\\n                                    {% endfor %}\\n\\n                                    <th>{{ cdata.colour_total.rejected }}</th>\\n                                </tr>\\n                            {% endfor %}\\n                            <tr style=\\\"background-color: darkgray;\\\">\\n                                <th colspan=\\\"2\\\">Total</th>\\n                                {% for size in primary_values %}\\n                                    <th>{{ ocr_data[part_value].total[size].rejected }}</th>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].rejected }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th rowspan=\\\"{{ ocr_data[part_value].data|length + 1 }}\\\"\\n                                    style=\\\"vertical-align: middle !important;\\\">\\n                                    <div>\\n                                        Loose Piece ( J )\\n                                    </div>    \\n                                </th>\\n                            </tr>\\n                            {% for colour, cdata in ocr_data[part_value].data.items() %}\\n                                <tr>\\n                                    <th>{{ colour.split(\\\"@\\\")[0] }}</th>\\n\\n                                    {% for size in primary_values %}\\n                                        <td>{{ cdata['values'][size]['loose_piece'] }}</td>\\n                                    {% endfor %}\\n\\n                                    <th>{{ cdata.colour_total.loose_piece }}</th>\\n                                </tr>\\n                            {% endfor %}\\n                            <tr style=\\\"background-color: darkgray;\\\">\\n                                <th colspan=\\\"2\\\">Total</th>\\n                                {% for size in primary_values %}\\n                                    <th>{{ ocr_data[part_value].total[size].loose_piece }}</th>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].loose_piece }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th rowspan=\\\"{{ ocr_data[part_value].data|length + 1 }}\\\"\\n                                    style=\\\"vertical-align: middle !important;\\\">\\n                                    <div>\\n                                        Loose Piece Set ( K )\\n                                    </div>    \\n                                </th>\\n                            </tr>\\n                            {% for colour, cdata in ocr_data[part_value].data.items() %}\\n                                <tr>\\n                                    <th>{{ colour.split(\\\"@\\\")[0] }}</th>\\n\\n                                    {% for size in primary_values %}\\n                                        <td>{{ cdata['values'][size]['loose_piece_set'] }}</td>\\n                                    {% endfor %}\\n\\n                                    <th>{{ cdata.colour_total.loose_piece_set }}</th>\\n                                </tr>\\n                            {% endfor %}\\n                            <tr style=\\\"background-color: darkgray;\\\">\\n                                <th colspan=\\\"2\\\">Total</th>\\n                                {% for size in primary_values %}\\n                                    <th>{{ ocr_data[part_value].total[size].loose_piece_set }}</th>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].loose_piece_set }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th rowspan=\\\"{{ ocr_data[part_value].data|length + 1 }}\\\"\\n                                    style=\\\"vertical-align: middle !important;\\\">\\n                                    <div>\\n                                        Rework Pieces ( L )\\n                                    </div>    \\n                                </th>\\n                            </tr>\\n                            {% for colour, cdata in ocr_data[part_value].data.items() %}\\n                                <tr>\\n                                    <th>{{ colour.split(\\\"@\\\")[0] }}</th>\\n\\n                                    {% for size in primary_values %}\\n                                        <td>{{ cdata['values'][size]['pending'] }}</td>\\n                                    {% endfor %}\\n\\n                                    <th>{{ cdata.colour_total.pending }}</th>\\n                                </tr>\\n                            {% endfor %}\\n                            <tr style=\\\"background-color: darkgray;\\\">\\n                                <th colspan=\\\"2\\\">Total</th>\\n                                {% for size in primary_values %}\\n                                    <th>{{ ocr_data[part_value].total[size].pending }}</th>\\n                                {% endfor %}\\n                                <th>{{ ocr_data[part_value].pending }}</th>\\n                            </tr>\\n                            <tr>\\n                                <th colspan=\\\"2\\\">Unaccountable (( F + I + J + K + L ) - (B + D1 + D2 ))</th>\\n                                {% for size in primary_values %}\\n                                    {% set val = total_detail['get_total_difference'][part_value][size] %}\\n                                    <th style=\\\"{{ get_ocr_style(val) }}\\\">{{ val }}</th>\\n                                {% endfor %}\\n                                {% set tot = total_detail['get_total'][part_value] %}\\n                                <th style=\\\"{{ get_ocr_style(tot) }}\\\">{{ tot }}</th>\\n                            </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n                <div style=\\\"width:25%;\\\">\\n                    <table class=\\\"table table-sm table-sm-bordered bordered-table\\\">\\n                        <thead class=\\\"dark-border\\\">\\n                            <tr>\\n                                <th>{{ part_value }}</th>\\n                                <th></th>\\n                                <th>Difference</th>\\n                            </tr>\\n                        </thead>\\n                        <tbody class=\\\"dark-border\\\">\\n                            <tr>\\n                                <td>Cut to Dispatch</td>\\n                                <td>{{ get_ocr_percentage(total_detail['get_cut_to_dispatch'][part_value]) }}%</td>\\n                                <td>{{ 100 - get_ocr_percentage(total_detail['get_cut_to_dispatch'][part_value]) }}%</td>\\n                            </tr>\\n                            <tr>\\n                                <td>Cut to Inward</td>\\n                                <td>{{ get_ocr_percentage(total_detail['get_cut_to_inward'][part_value]) }}%</td>\\n                                <td>{{ 100 - get_ocr_percentage(total_detail['get_cut_to_inward'][part_value]) }}%</td>\\n                            </tr>\\n                            <tr>\\n                                <td>Inward to Dispatch</td>\\n                                <td>{{ get_ocr_percentage(total_detail['get_inward_to_dispatch'][part_value]) }}%</td>\\n                                <td>{{ 100 - get_ocr_percentage(total_detail['get_inward_to_dispatch'][part_value]) }}%</td>\\n                            </tr>\\n                            <tr>\\n                                <td>Loose Piece</td>\\n                                <td>{{ get_ocr_percentage(total_detail['get_loose_piece'][part_value]) }}%</td>\\n                                <td></td>\\n                            </tr>\\n                            <tr>\\n                                <td>Rejection</td>\\n                                <td>{{ get_ocr_percentage(total_detail['get_rejection'][part_value]) }}%</td>\\n                                <td></td>\\n                            </tr>\\n                            <tr>\\n                                <td>Rework</td>\\n                                <td>{{ get_ocr_percentage(total_detail['get_rework'][part_value]) }}%</td>\\n                                <td></td>\\n                            </tr>\\n                            <tr>\\n                                <td>Finishing Not Received</td>\\n                                <td>{{ get_ocr_percentage(total_detail['get_not_received'][part_value]) }}%</td>\\n                                <td></td>\\n                            </tr>\\n                            <tr>\\n                                <td>OCR Complete</td>\\n                                <td>{{ total_detail['get_ocr_value'][part_value] }}%</td>\\n                                <td>{{ 100 - total_detail['get_ocr_value'][part_value] }}%</td>\\n                            </tr>\\n                            <tr>\\n                                <td>Unaccountable</td>\\n                                <td>-{{ get_ocr_percentage(total_detail['get_unaccountable'][part_value]) }}%</td>\\n                                <td></td>\\n                            </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n            </div>\\n        </div>\\n        {% if loop.index != ocr_data|length  %}\\n            <div style=\\\"page-break-before: always;\\\">\\n            </div>\\n        {% endif %}    \\n        {% endfor %}\\n    {% endif %}\\n</div>\\n\\n\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-12-11 10:30:13.424023",
 "modified_by": "Administrator",
 "module": "Production Api",
 "name": "OCR Print",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}