{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-01-04 15:37:55.078507",
 "css": "\nth, td{\n    border:1px solid gray;\n    font-size:13px;\n    line-height:1;\n}\n.print-format .letter-head {\n  margin-bottom: 10px !important;\n}\n.no-border{\n    border:unset;\n}\n.border-style{\n    border: 1px solid gray; \n}\n.border-top-style{\n    border: 1px solid gray;\n    border-top-left-radius: 10px 10px;\n    border-top-right-radius: 10px 10px;\n}\n.border-bottom-style{\n    border: 1px solid gray;\n    border-bottom-left-radius: 10px 10px;\n    border-bottom-right-radius: 10px 10px \n}\n.border-group{\n    text-align: center;\n    border-bottom: 1px solid gray;\n    padding-bottom: 3px;\n    width:100%;\n}\n.font_weight{\n    font-weight:600;\n}\n#background {\n\tposition: absolute;\n\tz-index: 0;\n\tmin-height: 143%;\n\tmin-width: 93%;\n}\n\n#content {\n\tz-index: 1;\n}\n#bg-text {\n\tcolor: black;\n\tfont-size: 120px;\n\ttransform: rotate(315deg);\n\t-webkit-transform: rotate(315deg);\n\topacity: 24%;\n\ttext-align: center;\n}\n#small-bg-text {\n\tfont-size: 20px;\n}",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Goods Received Note",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% if doc.against == \\\"Purchase Order\\\" %}\\n    <div style=\\\"border:1px solid #aaa; border-radius: 0px; border-collapse: collapse;\\\" class=\\\"container-fluid\\\">\\n        {% if doc.docstatus == 0 or doc.docstatus == 2 %}\\n            <div id=\\\"background\\\">\\n                <p id=\\\"bg-text\\\">\\n                    {% if doc.docstatus == 0 %}\\n                        Draft<br> <span class=\\\"small-bg-text\\\" style=\\\"font-size: 20px;\\\">This Document is pending for approval</span>\\n                    {% else %}\\n                        Cancelled<br> <span class=\\\"small-bg-text\\\" style=\\\"font-size: 20px;\\\">This Document is Cancelled</span>\\n                    {% endif %}\\n                </p>\\n            </div>\\n        {% endif %}\\n        <div id=\\\"content\\\">\\n            <div class=\\\"row\\\" style=\\\"border-bottom:1px solid #666;display: flex;\\\">\\n                <div class=\\\"col-xs-4\\\" style=\\\"border-right:1px solid #ddd;\\\">\\n                    <div class=\\\"col-xs-12\\\" style=\\\"font-size:95%; padding-left: 0;\\\">\\n                        <small>Supplier:</small>\\n                        <br><strong>{{doc.supplier_name}}</strong>\\n                        <br>{{doc.supplier_address_display}}\\n                    </div>\\n                </div>\\n                <div class=\\\"col-xs-4\\\" style=\\\"border-right:1px solid #ddd;\\\">\\n                    <div class=\\\"col-xs-12\\\" style=\\\"font-size:95%; padding-left: 0;\\\">\\n                        <small>Delivered Location:</small>\\n                        <br><strong>{{doc.delivery_location_name}}</strong>\\n                        <br>{{doc.delivery_address_display}}\\n                    </div>\\n                </div>\\n                <div class=\\\"col-xs-4\\\" style=\\\"border-left:1px solid #ddd;\\\">\\n                    <div class=\\\"row\\\" style=\\\"border-bottom:1px solid #ddd;\\\">\\n                        <div class=\\\"col-xs-12 text-center\\\">\\n                            <h5 style=\\\"margin: 0;\\\"> <strong>GOODS RECEIVED NOTE</strong></h4>\\n                            {% if doc.docstatus == 0 %}\\n                                (Draft)\\n                            {% elif doc.docstatus == 2 %}\\n                                (Cancelled)\\n                            {% endif %}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"row\\\" style=\\\"border-bottom:1px solid #ddd;\\\">\\n                        <div class=\\\"col-xs-5 text-right\\\" style=\\\" padding-right: 4px; padding-left:0px;\\\"><small>Date:</small></div>\\n                        <div class=\\\"col-xs-7\\\" style=\\\"padding-left:0px;\\\"><strong>{{doc.get_formatted(\\\"grn_date\\\")}}</strong></div>\\n                    </div>\\n                    <div class=\\\"row\\\" style=\\\"border-bottom:1px solid #ddd;\\\">\\n                        <div class=\\\"col-xs-5 text-right\\\" style=\\\" padding-right: 4px; padding-left:0px;\\\"><small>No.:</small></div>\\n                        <div class=\\\"col-xs-7\\\" style=\\\"padding-left:0px;\\\"><strong>{{doc.name}}</strong></div>\\n                    </div>\\n                    <div class=\\\"row\\\" style=\\\"border-bottom:1px solid #ddd;\\\">\\n                        <div class=\\\"col-xs-5 text-right\\\" style=\\\" padding-right: 4px; padding-left:0px;\\\"><small>Supplier Doc No.:</small></div>\\n                        <div class=\\\"col-xs-7\\\" style=\\\"padding-left:0px;\\\"><strong>{{doc.supplier_document_no}}</strong></div>\\n                    </div>\\n                    <div class=\\\"row\\\" style=\\\"border-bottom:1px solid #ddd;\\\">\\n                        <div class=\\\"col-xs-5 text-right\\\" style=\\\" padding-right: 4px; padding-left:0px;\\\"><small>Vehicle No.:</small></div>\\n                        <div class=\\\"col-xs-7\\\" style=\\\"padding-left:0px;\\\"><strong>{{doc.vehicle_no}}</strong></div>\\n                    </div>\\n                    <div class=\\\"row\\\" style=\\\"border-bottom:1px solid #ddd;\\\">\\n                        <div class=\\\"col-xs-5 text-right\\\" style=\\\" padding-right: 4px; padding-left:0px;\\\"><small>Against:</small></div>\\n                        <div class=\\\"col-xs-7\\\" style=\\\"padding-left:0px;\\\"><strong>{{doc.against}}</strong></div>\\n                    </div>\\n                    <div class=\\\"row\\\" style=\\\"border-bottom:1px solid #ddd;\\\">\\n                        <div class=\\\"col-xs-5 text-right\\\" style=\\\" padding-right: 4px; padding-left:0px;\\\"><small>Against No.:</small></div>\\n                        <div class=\\\"col-xs-7\\\" style=\\\"padding-left:0px;\\\"><strong>{{doc.against_id}}</strong></div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"row\\\" style=\\\"border-bottom:1px solid #666;\\\">\\n                <div class=\\\"col-xs-12 text-center\\\">Particulars</div>\\n            </div>\\n            <div class=\\\"row\\\">\\n                {% set item_details = fetch_grn_purchase_item_details(doc.items, docstatus=doc.docstatus) %}\\n                <table class=\\\"table table-sm table-bordered\\\">\\n                    {% for i in item_details %}\\n                        <tr>\\n                            {% if i.primary_attribute %}\\n                                <td>\\n                                    <table class=\\\"table table-sm table-bordered\\\">\\n                                        <tr>\\n                                            <th>S.No.</th>\\n                                            <th>Item</th>\\n                                            {% for attr in i['attributes'] %}\\n                                                <th>{{ attr }}</th>\\n                                            {% endfor %}\\n                                            {% for attr in i['primary_attribute_values'] %}\\n                                                <th>{{ attr }}</th>\\n                                            {% endfor %}\\n                                            <th>Comments</th>\\n                                        </tr>\\n                                        {% for j in i['items'] %}\\n                                            <tr>\\n                                                <td>{{ loop.index }}</td>\\n                                                <td>{{ j.name }}</td>\\n                                                {% for attr in i['attributes'] %}\\n                                                    <td>{{ j.attributes[attr] }}</td>\\n                                                {% endfor %}\\n                                                {% for attr in j['values'] %}\\n                                                    <td>\\n                                                        {% if j['values'][attr].received %}\\n                                                            <div>\\n                                                                {{ j['values'][attr].received }}{% if j.default_uom %}{{' ' + j.default_uom}}{% endif %}\\n                                                                {% if j['values'][attr].secondary_received %}\\n                                                                    <span><br>({{ j['values'][attr].secondary_received }}{% if j.secondary_uom %}{{' ' + j.secondary_uom }}{% endif %})</span>\\n                                                                {% endif %}\\n                                                            </div>\\n                                                        {% else %}\\n                                                            <div class=\\\"text-center\\\">\\n                                                                ---\\n                                                            </div>\\n                                                        {% endif %}\\n                                                    </td>\\n                                                {% endfor %}\\n                                                <td>{{ j.comments }}</td>\\n                                            </tr>\\n                                        {% endfor %}\\n                                    </table>\\n                                </td>\\n                            {% else %}\\n                                <td>\\n                                    <table class=\\\"table table-sm table-bordered\\\">\\n                                        <tr>\\n                                            <th>S.No.</th>\\n                                            <th>Item</th>\\n                                            {% for attr in i.attributes %}\\n                                                <th>{{ attr }}</th>\\n                                            {% endfor %}\\n                                            <th>Received Quantity</th>\\n                                            <th>Comments</th>\\n                                        </tr>\\n                                        {% for j in i['items'] %}\\n                                            <tr>\\n                                                <td>{{ loop.index }}</td>\\n                                                <td>{{ j.name }}</td>\\n                                                {% for attr in i['attributes'] %}\\n                                                    <td>{{ j.attributes[attr] }}</td>\\n                                                {% endfor %}\\n                                                <td>\\n                                                    {{ j['values']['default'].received }}{% if j.default_uom %}{{' ' + j.default_uom}}{% endif %}\\n                                                    {% if j['values']['default'].secondary_received %}\\n                                                        <span><br>({{ j['values']['default'].secondary_received }}{% if j.secondary_uom %}{{' ' + j.secondary_uom }}{% endif %})</span>\\n                                                    {% endif %}\\n                                                </td>\\n                                                <td>{{ j.comments }}</td>\\n                                            </tr>\\n                                        {% endfor %}\\n                                    </table>\\n                                </td>\\n                            {% endif %}\\n                        </tr>\\n                    {% endfor %}\\n                </table>\\n            </div>\\n            <div class=\\\"row\\\" style=\\\"border-bottom:1px solid #666;\\\">\\n                {% if doc.comments %}\\n                <div class=\\\"col-xs-12\\\">\\n                    GRN Comments: {{doc.comments}}\\n                </div>\\n                {% endif %}\\n            </div>\\n            <div class=\\\"row\\\">\\n                {% set company = frappe.db.get_single_value(\\\"Company Settings\\\", \\\"company\\\") %}\\n                <div class=\\\"col-xs-6 text-center\\\" style=\\\"border-right:0px solid #666;\\\">\\n                </div>\\n                <div class=\\\"col-xs-6 text-right\\\">\\n                    <small>For </small>\\n                    <strong>{{ company  }}</strong>\\n                    <br>\\n                    <br> Authorized Signatory\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n{% else %}\\n    <div style=\\\"padding-top:10px;\\\">\\n\\t\\t<div class=\\\"border-top-style\\\" style=\\\"height:50px;text-align:right;\\\">\\n\\t\\t\\t<div style=\\\"margin-right:10px;\\\">\\n\\t\\t\\t\\t<p style=\\\"font-size:20px;\\\">Goods Received Note</p><div></div>\\n\\t\\t\\t\\t<p style=\\\"font-size:12px;\\\">{{doc.name}}</p>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n        <div style=\\\"width:100%;height:auto;display:flex;\\\">\\n            <div class=\\\"border-style\\\" style=\\\"width:33%;padding:5px;\\\">\\n                From:<br>\\n                <br><strong>{{doc.supplier_name}}</strong>\\n                {{doc.supplier_address_display}}\\n            </div>\\n            <div class=\\\"border-style\\\" style=\\\"width:34%;padding:5px;\\\">\\n                To.<br>\\n                <br><strong>{{doc.delivery_location_name}}</strong>\\n                {{doc.delivery_address_display}}\\n            </div>\\n            <div class=\\\"border-style\\\" style=\\\"width:33%;\\\">\\n                <div class=\\\"border-group\\\" style=\\\"height:15px;\\\">Date : {{doc.posting_date}}</div>\\n                <div class=\\\"border-group\\\" style=\\\"height:15px;\\\">\\n                    Vehicle No: \\n                    {% if doc.vehicle_no %}\\n                        <span>{{doc.vehicle_no}}</span>\\n                    {% else %}\\n                        <span>NA</span>\\n                    {% endif %}\\n                </div>\\n                <div class=\\\"border-group\\\" style=\\\"height:15px;\\\">\\n                    DC No: \\n                    {% if doc.dc_no %}\\n                        <span>{{doc.dc_no}}</span>\\n                    {% else %}\\n                        <span>NA</span>\\n                    {% endif %}\\n                </div>\\n                <div class=\\\"border-group\\\" style=\\\"height:15px;\\\">Against: {{doc.against}}</div>\\n                <div style=\\\"height:15px;text-align:center;\\\">Against ID: {{doc.against_id}}</div>\\n                \\n            </div>\\n        </div>\\n        <div class=\\\"border-style\\\" style=\\\"text-align: center;\\\">\\n            Particulars\\n        </div>\\n        <div>\\n            {% set items = get_grn_structure(doc.name) %}\\n            <table style=\\\"width:100%;\\\">\\n                {% for i in items %}\\n                    <tr>\\n                        {% if i.primary_attribute %}\\n                            <td>\\n                                {% if i.items() %}\\n                                    <div style=\\\"width: 100%;display:flex;height:15px;\\\">\\n                                        <div style=\\\"width: 50%;\\\">Item name:<span class=\\\"font_weight\\\">{{i['items'][0]['name']}}</span></div>\\n                                        <div style=\\\"width: 50%;\\\">Lot : <span class=\\\"font_weight\\\">{{i.lot}}</span></div>\\n                                    </div>\\n                                    <table style=\\\"width:100%;\\\">\\n                                        {% set primary_values = {} %}\\n                                        <tr>\\n                                            <td class=\\\"font_weight\\\">S.No.</td>\\n                                            {% for attr in i.attributes %}\\n                                                <td class=\\\"font_weight\\\">{{attr}}</td>\\n                                            {% endfor %}\\n                                            <td class=\\\"font_weight\\\">Type</td>\\n                                            {% for attr in i.primary_attribute_values %}\\n                                                {% set _ = primary_values.update({attr: 0}) %}\\n                                                <td class=\\\"font_weight\\\">{{attr}}</td>\\n                                            {% endfor %}\\n                                            <td class=\\\"font_weight\\\">Total</td>\\n                                        </tr>\\t\\n                                        {% for j in i['items'] %}\\n                                            {% for t in j['types']%}\\n                                                <tr>\\n                                                    <td>{{loop.index}}</td>\\n                                                    {% for attr in i.attributes %}\\n                                                        <td>\\n                                                            {% if j.attributes[attr]%}\\n                                                                {{ j.attributes[attr] }}\\n                                                            {% endif %}\\n                                                        </td>\\n                                                    {% endfor %}\\n                                                    <td>{{t}}</td>\\n                                                    {% set total = {\\\"total\\\":0} %}\\n                                                    {% for attr in j['values'] %}\\n                                                        {% if j['values'][attr]['types']%}\\n                                                            {% set types_dict = get_dict_object(j['values'][attr]['types']) %}\\n                                                            {% for ty in types_dict %}\\n                                                                {% if ty == t %}\\n                                                                    <td>\\n                                                                        {% set attr_qty = primary_values[attr] + types_dict[ty] %}\\n                                                                        {% if primary_values.update({attr:attr_qty })%}{% endif %}\\n                                                                        {% set qty = total[\\\"total\\\"] + types_dict[ty] %}\\n                                                                        {% if total.update({\\\"total\\\":qty })%}{% endif %}\\n                                                                        {{types_dict[ty] | round(3)  }}\\n                                                                        {% if j.default_uom %}\\n                                                                            <span>{{ \\\" \\\" + j.default_uom }}</span>\\n                                                                        {% endif %}\\n                                                                    </td>\\n                                                                {% endif %}\\t\\n                                                            {% endfor %}\\t\\n                                                        {% else %}\\n                                                            <td></td>\\n                                                        {% endif %}\\n                                                    {% endfor %}\\n                                                    <td class=\\\"font_weight\\\" >{{total[\\\"total\\\"] | round(3) }}</td>\\n                                                </tr>\\n                                            {% endfor %}\\t\\n                                        {% endfor %}\\n                                        <tr>\\n                                            <td class=\\\"font_weight\\\">Total</td>\\n                                            {% for attr in i.attributes %}\\n                                                <td></td>\\n                                            {% endfor %}\\n                                            <td></td>\\n                                            {% for attr in i.primary_attribute_values %}\\n                                                <td class=\\\"font_weight\\\">{{primary_values[attr] | round(3) }}</td>\\n                                            {% endfor %}\\n                                            <td></td>\\n                                        </tr>\\n                                    </table>\\n                                {% endif %}\\n                            </td>\\t\\n                        {% else %}\\n                            <td>\\n                                {% if i.items() %}\\n                                    <div style=\\\"height:15px;\\\">Lot: <span class=\\\"font_weight\\\">{{i.lot}}</span></div>\\n                                    <table style=\\\"width:100%;\\\">\\n                                        <tr>\\n                                            <td class=\\\"font_weight\\\">S.No.</td>\\n                                            <td class=\\\"font_weight\\\">Item</td>\\n                                            {% for attr in i.attributes %}\\n                                                <td class=\\\"font_weight\\\">{{attr}}</td>\\n                                            {% endfor %}\\n                                            <td class=\\\"font_weight\\\">Type</td>\\n                                            <td class=\\\"font_weight\\\">Received qty</td>\\n                                        </tr>\\n                                        {% set total = {\\\"total\\\":0} %}\\n                                        {% for j in i['items'] %}\\n                                            {% for t in j['types']%}\\n                                                <tr>\\n                                                    <td>{{ loop.index }}</td>\\n                                                    <td>{{ j.name }}</td>\\n                                                    {% for attr in i.attributes %}\\n                                                        <td>{{ j.attributes[attr] }}</td>\\n                                                    {% endfor %}\\n                                                    <td>{{t}}</td>\\n                                                    <td>\\n                                                        {% if j['values'][\\\"default\\\"]['qty'] > 0 %}\\n                                                            {% set _ = total[\\\"total\\\"] + j['values'][\\\"default\\\"]['qty'] %}\\n                                                            {% if total.update({ \\\"total\\\":_ }) %}{% endif %}\\n                                                            {{ j['values'][\\\"default\\\"]['qty'] | round(3) }}\\n                                                            {% if j.default_uom %}\\n                                                                <span>{{ \\\" \\\" + j.default_uom }}</span>\\n                                                            {% endif %}\\t\\n                                                        {% endif %}\\t\\t\\n                                                    </td>\\n                                                </tr>\\n                                            {% endfor %}\\t\\n                                        {% endfor %}\\n                                        <tr>\\n                                            <td></td>\\n                                            <td class=\\\"font_weight\\\">Total</td>\\n                                            {% for attr in i.attributes %}\\n                                                <td></td>\\n                                            {% endfor %}\\n                                            <td></td>\\n                                            <td class=\\\"font_weight\\\">{{ total[\\\"total\\\"] | round(3) }}</td>\\n                                        </tr>\\n                                    </table>\\n                                {% endif %}\\t\\n                            </td>\\n                        {% endif %}\\n                    </tr>\\t    \\n                {% endfor %}\\n            </table>\\n        </div>\\n        {% if doc.comments %}\\n        <div class=\\\"border-style\\\" style=\\\"height:auto;width:100%\\\">\\n            <strong>Comments:</strong><br><span style=\\\"display:block;padding-left:20px;\\\"> {{ doc.comments.replace(\\\"\\\\n\\\", \\\"<br>\\\") | safe }}</span>\\n        </div>\\n        {% endif %}\\n        <div style=\\\"height:90px;width:100%;display:flex;\\\">\\n            <div class=\\\"border-style\\\" style=\\\"height:90px;width:50%\\\">\\n                <div  class=\\\"font_weight\\\" style=\\\"text-align:center;height: 15px;\\\">\\n                    Receiver's Signature\\n                </div>\\n                <div style=\\\"height:50px;\\\">\\n\\n                </div>\\n                <div style=\\\"display:flex;height:15px;width:100%;\\\">\\n                    <div  class=\\\"font_weight\\\" style=\\\"height: 15px;width:50%;text-align: left;padding-left:5px;\\\">\\n                        Name:\\n                    </div>\\n                    <div class=\\\"font_weight\\\" style=\\\"height: 15px;width:50%;text-align: left;\\\">\\n                        Designation:\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"border-style font_weight\\\" style=\\\"height:90px;width:50%\\\">\\n                <div style=\\\"text-align:right;height: 15px;padding-right:15px;\\\">\\n                    For <span class=\\\"font_weight\\\">Essdee Knitting Mills Private Limited</span>\\n                </div>\\n                <div style=\\\"height:50px;\\\">\\n\\n                </div>\\n                <div style=\\\"height:15px;width:100%;text-align:right;padding-right: 15px;\\\">\\n                    Authorised Signatory\\n                </div>\\n            </div>\\n        </div>\\n        {% set user_current_time = get_current_user_time() %}\\n        {% set user = user_current_time[0] %}\\n        {% set current_time = user_current_time[1] %}\\n        <div class=\\\"border-bottom-style font_weight\\\" style=\\\"display: flex;height: 20px;width: 100%;\\\">\\n            <div style=\\\"width: 50%;padding-left: 15px;\\\">\\n                Print Time: {{current_time}}\\t\\n            </div>\\t\\n            <div style=\\\"width: 50%;padding-left: 15px;\\\">\\n                Print User : {{user}}\\n            </div>\\n        </div>\\n    </div>\\n{% endif %}    \"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-06-10 12:50:31.020417",
 "modified_by": "Administrator",
 "module": "Production Api",
 "name": "WO Goods Received Note",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}