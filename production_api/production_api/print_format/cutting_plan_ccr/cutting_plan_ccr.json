{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-04-08 13:00:22.023795",
 "css": ".table-head, .table-data {\n    text-align:center !important;\n    border: 1px solid #000;\n    \n}\n.table-head{\n    font-weight:600;\n}\n.print-format td{\n    font-size: 12px !important;\n    padding: 4px !important;\n}\ntable{\n    width:100%;\n}\n.avoid-page-break{\n    page-break-inside: avoid;\n}\n",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Cutting Plan",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div>\\n\\t{% set ccr_data = get_dict_object(get_ccr(doc.name)) %}\\n\\t{% set date = get_created_date(frappe.utils.nowdate()) %}\\n\\t{% set time = frappe.utils.nowtime()[:8] %}\\n\\t<div style=\\\"width:100%;text-align:end;\\\">\\n\\t\\tTime: {{ date }} {{ time }}\\n\\t</div>\\n\\t<div>\\n\\t\\t<div><span style=\\\"font-weight:600;\\\">Lot:</span> {{doc.lot}}</div>\\n\\t\\t<div><span style=\\\"font-weight:600;\\\">Item:</span> {{doc.item}}</div>\\n\\t</div>\\n\\t<h3 style=\\\"text-align:center;text-decoration: underline;\\\">CCR</h3>\\n\\t{% for marker in ccr_data.marker_data %}\\n\\t\\t<div class=\\\"avoid-page-break\\\">\\n\\t\\t\\t<h4>{{marker}}</h4>\\n\\t\\t\\t<table class=\\\"avoid-page-break\\\">\\n\\t\\t\\t\\t{% set size_total = {} %}\\n\\t\\t\\t\\t{% set received_weight = {\\\"rec_sum\\\": 0} %}\\n\\t\\t\\t\\t{% set used_weight = {\\\"used_sum\\\": 0} %}\\n\\t\\t\\t\\t{% set balance_weight = {\\\"bal_sum\\\": 0} %}\\n\\t\\t\\t\\t{% set complete_total = {\\\"total\\\": 0} %}\\n\\t\\t\\t\\t{% set reqd_total = {\\\"reqd_sum\\\": 0} %}\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">S.No</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Colour</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Cloth Type</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Received Weight</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Used Weight</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Balance Weight</td>\\n\\t\\t\\t\\t\\t{% for size in ccr_data.sizes %}\\n\\t\\t\\t\\t\\t\\t{% set _ = size_total.update({size: 0}) %}\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{size}}</td>\\n\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Total</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Piece Weight</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Reqd Weight</td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t{% for (colour, cloth_type) in ccr_data.marker_data[marker] %}\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t{% set rec_weight = ccr_data.marker_data[marker][(colour, cloth_type)]['received_weight'] + received_weight['rec_sum'] %}\\n\\t\\t\\t\\t\\t\\t{% set use_weight = ccr_data.marker_data[marker][(colour, cloth_type)]['used_weight'] + used_weight['used_sum'] %}\\n\\t\\t\\t\\t\\t\\t{% set bal_weight = ccr_data.marker_data[marker][(colour, cloth_type)]['balance_weight'] + balance_weight['bal_sum'] %}\\n\\t\\t\\t\\t\\t\\t{% set req_weight = ccr_data.marker_data[marker][(colour, cloth_type)]['reqd_weight'] + reqd_total['reqd_sum'] %}\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t{% set _ = received_weight.update({\\\"rec_sum\\\": rec_weight}) %}\\n\\t\\t\\t\\t\\t\\t{% set _ = used_weight.update({\\\"used_sum\\\": use_weight}) %}\\n\\t\\t\\t\\t\\t\\t{% set _ = balance_weight.update({\\\"bal_sum\\\": bal_weight})  %}\\n\\t\\t\\t\\t\\t\\t{% set _ = reqd_total.update({\\\"reqd_sum\\\": req_weight}) %}\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{loop.index}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{colour}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth_type}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ccr_data.marker_data[marker][(colour, cloth_type)]['received_weight'] | round(3)}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ccr_data.marker_data[marker][(colour, cloth_type)]['used_weight'] | round(3)}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ccr_data.marker_data[marker][(colour, cloth_type)]['balance_weight'] | round(3)}}</td>\\n\\t\\t\\t\\t\\t\\t{% for size in ccr_data.sizes %}\\n\\t\\t\\t\\t\\t\\t\\t{% set size_val = size_total[size] + ccr_data.marker_data[marker][(colour, cloth_type)][size]['bits'] %}\\n\\t\\t\\t\\t\\t\\t\\t{% set _ = size_total.update({size: size_val}) %}\\n\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ccr_data.marker_data[marker][(colour, cloth_type)][size]['bits'] | int }}</td>\\n\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ccr_data.marker_data[marker][(colour, cloth_type)]['total_pieces'] | int}}</td>\\n\\t\\t\\t\\t\\t\\t{% set piece_weight = ccr_data.marker_data[marker][(colour, cloth_type)]['used_weight']/ccr_data.marker_data[marker][(colour, cloth_type)]['total_pieces'] %}\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{piece_weight | round(4)}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ccr_data.marker_data[marker][(colour, cloth_type)]['reqd_weight'] | round(4)}}</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Total</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{received_weight['rec_sum'] | round(3) }}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{used_weight['used_sum'] | round(3) }}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{balance_weight['bal_sum'] | round(3) }}</td>\\n\\t\\t\\t\\t\\t{% for size in ccr_data.sizes %}\\n\\t\\t\\t\\t\\t\\t{% set x = complete_total['total'] + size_total[size] %}\\n\\t\\t\\t\\t\\t\\t{% set _ = complete_total.update({\\\"total\\\": x}) %}\\n\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{size_total[size] | int }}</td>\\n\\t\\t\\t\\t\\t{% endfor %}\\t\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{complete_total['total'] | int}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{(used_weight['used_sum']/complete_total['total']) | round(4)}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{(reqd_total['reqd_sum'])/ (ccr_data.marker_data[marker]|length) | round(4)}}</td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t</table>\\n\\t\\t</div>\\t\\n\\t{% endfor %}\\n\\t{% if doc.cutting_plan_accessory_details|length > 0 %}\\n\\t\\t<table class=\\\"avoid-page-break\\\">\\n\\t\\t\\t<tr>\\n\\t\\t\\t\\t<td colspan=\\\"5\\\"><h4>Accessory Summary</h4></td>\\n\\t\\t\\t</tr>\\n\\t\\t\\t<tr>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">S.No</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Cloth</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Cloth Type</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Colour</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Dia</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Used Weight</td>\\n\\t\\t\\t</tr>\\n\\t\\t\\t{% set acc_used = {\\\"acc\\\": 0} %}\\n\\t\\t\\t{% for cloth in doc.cutting_plan_accessory_details %}\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t{% set acc = cloth.used_weight + acc_used['acc'] %}\\n\\t\\t\\t\\t\\t{% set _ = acc_used.update({\\\"acc\\\": acc }) %}\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{loop.index}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{get_item_from_variant(cloth.cloth_item_variant)}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.cloth_type}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.colour}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.dia}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.used_weight}}</td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t{% endfor %}\\n\\t\\t\\t<tr>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">{{acc_used['acc'] | round(3)}}</td>\\n\\t\\t\\t</tr>\\n\\t\\t</table>\\n\\t{% endif %}\\t\\n\\t{% if ccr_data.print_panel_details|length > 0 %}\\n\\t\\t{% set items = ccr_data.print_panel_details %}\\n\\t\\t<h3 style=\\\"text-decoration: underline;text-align:center;\\\">Print Panel Summary</h3>\\n\\t\\t{% set weight_sum = {\\\"weight_sum\\\": 0} %}\\n\\t\\t{% set no_of_rolls_sum = {\\\"no_of_rolls_sum\\\": 0} %}\\n\\t\\t{% set panel_count_sum = {\\\"panel_count_sum\\\": 0} %}\\n\\t\\t<table class=\\\"avoid-page-break\\\">\\n\\t\\t\\t<tr>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">S.No</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Cloth Type</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Colour</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Dia</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Shade</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Weight in Kg's</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">No of Rolls</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Panel Count</td>\\n\\t\\t\\t</tr>\\n\\t\\t\\t{% for item in items %}\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t{% set _ = weight_sum.update({\\\"weight_sum\\\": weight_sum['weight_sum'] + items[item]['weight']}) %}\\n\\t\\t\\t\\t\\t{% set _ = no_of_rolls_sum.update({\\\"no_of_rolls_sum\\\": no_of_rolls_sum['no_of_rolls_sum'] + items[item]['no_of_rolls']}) %}\\n\\t\\t\\t\\t\\t{% set _ = panel_count_sum.update({\\\"panel_count_sum\\\": panel_count_sum['panel_count_sum'] + items[item]['panel_count']}) %}\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ loop.index }}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['cloth_type']}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['colour']}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['dia']}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['shade']}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['weight']}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['no_of_rolls']}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ items[item]['panel_count'] }}</td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t{% endfor %}\\t\\n\\t\\t\\t<tr>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">{{weight_sum['weight_sum'] | round(3)}}</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">{{no_of_rolls_sum['no_of_rolls_sum'] | int}}</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">{{panel_count_sum['panel_count_sum'] | int}}</td>\\n\\t\\t\\t</tr>\\n\\t\\t</table>\\n\\t{% endif %}\\n\\t{% if ccr_data.recut_details|length > 0 %}\\n\\t\\t{% set items = ccr_data.recut_details %}\\n\\t\\t<h3 style=\\\"text-decoration: underline;text-align:center;\\\">Recut Summary</h3>\\n\\t\\t{% set weight_sum = {\\\"weight_sum\\\": 0} %}\\n\\t\\t{% set no_of_rolls_sum = {\\\"no_of_rolls_sum\\\": 0} %}\\n\\t\\t<table class=\\\"avoid-page-break\\\">\\n\\t\\t\\t<tr>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">S.No</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Cloth Type</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Colour</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Dia</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Shade</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">Weight in Kg's</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">No of Rolls</td>\\n\\t\\t\\t</tr>\\n\\t\\t\\t{% for item in items %}\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t{% set _ = weight_sum.update({\\\"weight_sum\\\": weight_sum['weight_sum'] + items[item]['weight']}) %}\\n\\t\\t\\t\\t\\t{% set _ = no_of_rolls_sum.update({\\\"no_of_rolls_sum\\\": no_of_rolls_sum['no_of_rolls_sum'] + items[item]['no_of_rolls']}) %}\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ loop.index }}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['cloth_type']}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['colour']}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['dia']}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['shade']}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['weight']}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{items[item]['no_of_rolls']}}</td>\\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t{% endfor %}\\n\\t\\t\\t<tr>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">{{weight_sum['weight_sum'] | round(3)}}</td>\\n\\t\\t\\t\\t<td class=\\\"table-head\\\">{{no_of_rolls_sum['no_of_rolls_sum'] | int}}</td>\\n\\t\\t\\t</tr>\\t\\n\\t\\t</table>\\n\\t{% endif %}\\n\\t<div class=\\\"avoid-page-break\\\">\\n\\t\\t<h3 style=\\\"text-decoration: underline;text-align:center;\\\">Cloth Received and Used Summary</h3>\\n\\t\\t<h4>Cloth Summary</h4>\\n\\t\\t{% set cloth_types = {} %}\\n\\t\\t{% for cloth in doc.cutting_plan_cloth_details %}\\n\\t\\t\\t{% set _ = cloth_types.update({cloth.cloth_type: 0}) %}\\n\\t\\t{% endfor %}\\n\\t\\t{% for cloth_type in cloth_types %}\\n\\t\\t\\t{% set index = {\\\"index\\\": 0} %}\\n\\t\\t\\t{% set received_weight = {\\\"rec_sum\\\": 0} %}\\n\\t\\t\\t{% set used_weight = {\\\"used_sum\\\": 0} %}\\n\\t\\t\\t{% set balance_weight = {\\\"bal_sum\\\": 0} %}\\n\\n\\t\\t\\t<table class=\\\"avoid-page-break\\\" style=\\\"margin-bottom:20px;\\\">\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">S.No</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Cloth</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Cloth Type</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Colour</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Dia</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Received Weight</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Used Weight</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Balance Weight</td>        \\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t{% for cloth in doc.cutting_plan_cloth_details %}\\n\\t\\t\\t\\t\\t{% if cloth.cloth_type == cloth_type %}\\n\\t\\t\\t\\t\\t\\t{% set idx = index['index'] + 1 %}\\n\\t\\t\\t\\t\\t\\t{% set _ = index.update({\\\"index\\\": idx}) %}\\n\\t\\t\\t\\t\\t\\t{% set rec = cloth.weight + received_weight['rec_sum'] %}\\n\\t\\t\\t\\t\\t\\t{% set used = cloth.used_weight + used_weight['used_sum'] %}\\n\\t\\t\\t\\t\\t\\t{% set balance = cloth.balance_weight + balance_weight['bal_sum'] %}\\n\\t\\t\\t\\t\\t\\t{% set _ = received_weight.update({\\\"rec_sum\\\": rec}) %}\\n\\t\\t\\t\\t\\t\\t{% set _ = used_weight.update({\\\"used_sum\\\": used}) %}\\n\\t\\t\\t\\t\\t\\t{% set _ = balance_weight.update({\\\"bal_sum\\\": balance}) %}\\n\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{index['index']}}</td>\\n\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{get_item_from_variant(cloth.cloth_item_variant)}}</td>\\n\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.cloth_type}}</td>\\n\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.colour}}</td>\\n\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.dia}}</td>\\n\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.weight | round(3)}}</td>\\n\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.used_weight | round(3)}}</td>\\n\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{cloth.balance_weight | round(3)}}</td>\\n\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t{% endif %}\\t\\n\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{received_weight['rec_sum'] | round(3) }}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{used_weight['used_sum'] | round(3)}}</td>\\n\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{balance_weight['bal_sum'] | round(3)}}</td>        \\n\\t\\t\\t\\t</tr>\\n\\t\\t\\t</table>\\n\\t\\t{% endfor %}\\n\\t</div>\\t\\n\\t<h3 style=\\\"text-decoration: underline;text-align:center;\\\">Cutting Completion & Excess Panels Summary</h3>\\n\\t{% set items = remove_empty_rows(doc.completed_items_json, \\\"completed\\\") %}\\n\\t{% if items %}\\n\\t\\t<h4>Completed Pieces</h4>\\n\\t\\t<div>\\n\\t\\t\\t<table>\\n\\t\\t\\t\\t{% for i in items %}\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t{% if i['items'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t<table class=\\\"avoid-page-break\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set primary_sum = {} %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">S.No.</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{ i['pack_attr'] }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if i['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{i['set_item_attr']}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for val in i['primary_attribute_values'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set _ = primary_sum.update({val: 0}) %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{ val }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Total</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for j in i['items'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ loop.index }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ j['attributes'][i['pack_attr']] }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if doc.version == 'V2' or doc.version == 'V3' %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if j['is_set_item'] and j['attributes'][j['set_attr']] != j['major_attr_value'] and j['attributes'][i['pack_attr']] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t({{ j['item_keys']['major_colour'] }})\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if j['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ j['attributes'][i['set_item_attr']] }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set row_sum = {\\\"row\\\": 0} %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for key, val in j['values'].items() %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if val > 0 %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set qty = primary_sum[key] + val %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set _ = primary_sum.update({key: qty}) %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set row_qty = row_sum[\\\"row\\\"] + val %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set _ = row_sum.update({\\\"row\\\":row_qty}) %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ val }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% else %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t--\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"> {{ row_sum[\\\"row\\\"] }} </td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">Total</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if i['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\"></td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set total_sum = {\\\"total\\\": 0 } %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for val in i['primary_attribute_values'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set tot = total_sum[\\\"total\\\"] + primary_sum[val] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% set _ = total_sum.update({\\\"total\\\": tot}) %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{ primary_sum[val] }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{ total_sum[\\\"total\\\"] }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t{% endif %}\\t\\n\\t{% set items = remove_empty_rows(doc.incomplete_items_json, \\\"incompleted\\\") %}\\n\\t{% if items %}\\n\\t\\t<h4>Excess Panels</h4>\\n\\t\\t<div>\\n\\t\\t\\t<table>\\n\\t\\t\\t\\t{% for i in items %}\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t<td>\\n\\t\\t\\t\\t\\t\\t\\t{% if i['items'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t<table class=\\\"avoid-page-break\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">S.No.</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{ i['pack_attr'] }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if i['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{i['set_item_attr']}}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for val in i['primary_attribute_values'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-head\\\">{{ val }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for j in i['items'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ loop.index }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ j['attributes'][i['pack_attr']] }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if doc.version == 'V2' or doc.version == 'V3' %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if j['is_set_item'] and j['attributes'][j['set_attr']] != j['major_attr_value'] and j['attributes'][i['pack_attr']] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t({{ j['item_keys']['major_colour'] }})\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if j['is_set_item'] %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">{{ j['attributes'][i['set_item_attr']] }}</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for k, panel_dict in j['values'].items() %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"table-data\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% for panel, count in panel_dict.items() %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% if count > 0 %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ panel }} {{ count }}<br>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t\\t\\t\\t\\t\\t</table>\\n\\t\\t\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t{% endfor %}\\n\\t\\t\\t</table>\\n\\t\\t</div>\\n\\t{% endif %}\\t\\n</div>\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-12-29 18:23:33.324790",
 "modified_by": "Administrator",
 "module": "Production Api",
 "name": "Cutting Plan CCR",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}